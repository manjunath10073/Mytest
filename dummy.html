<html lang="en" >
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="author" content="XPIO" >
    <title>Sample</title>
    
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.9/angular.js"></script>
       
   
</head>
<body ng-app="myApp" ng-controller="dummyCtrl">
<h3>Sample File</h3>
<p>Onboard service API</p>

                                
                               
                                    <table>
                                        <thead>
                                        <tr>
                                            <th class="sell-01">Address</th>
                                            <th class="sell-02">sold Date</th>
                                            <th class="sell-03">distance</th>
                                            <th class="sell-04">price</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr ng-repeat="SL in SoldList">

                                            <td class="sell-01" width="15%">{{SL.Address}}</td>
                                            <td class="sell-02" width="15%">{{SL.Solddate}}</td>
                                            <td class="sell-03" width="5%">{{SL.Distance}}</td>
                                            <td class="sell-04" width="5%">{{SL.Price}}</td>
                                        </tr>
                                        </tbody>
                                    </table>
                             
</body>
<script type="text/javascript">
    var app = angular.module('myApp', [], function ($locationProvider) {
        $locationProvider.html5Mode({
            enabled: true,
            requireBase: false
        });
    });

    app.config(['$httpProvider', function ($httpProvider) {
        $httpProvider.defaults.useXDomain = true;
        delete $httpProvider.defaults.headers.common['X-Requested-With'];
    }
    ]);


    app.controller('dummyCtrl', function ($scope, $http, $location) {
 var SoldItemslist = [];
 var Faddress, Fhouse_number, Fcity, Fstate, Fcountry, Fpostalcode,Flatitude, Flongitude, Fdistance, Fsolddate, Fprice;
     //var url = "https://search.onboard-apis.com/propertyapi/v1.0.0/avm/snapshot?address1=7220 36th Ave SW&address2=Seattle, WA";
        //var url="https://search.onboard-apis.com/propertyapi/v1.0.0/sale/snapshot?address1=7220 36th Ave SW&address2=Seattle, WA&radius=5";
        var url="https://search.onboard-apis.com/propertyapi/v1.0.0/sale/snapshot?geoid=NH00016385";
        console.log(url);
        $http({
            url: url,
            method: 'GET',
            headers: {
             "apikey": "ddb2ed3665ccd56b45ab733fb19f7abd",
				   "Content-Type": "application/json"           
                
            }
           
        }).success(function (response) {
               console.log(response);
 console.log(response.property.length);
 var property=response.property;
for(i=0;i<property.length;i++){
 
                    Faddress = property[i].address.oneLine;
                    Fsolddate=property[i].sale.amount.salerecdate;
                    Fdistance=property[i].location.distance;
                    Fprice=property[i].sale.amount.saleamt;
var item1 = {
                        "Address": Faddress,
                        "Solddate": Fsolddate,
                        "Distance": Fdistance,
                        "Price": Fprice
                    };
                    SoldItemslist.push(item1);

}
$scope.SoldList = SoldItemslist;
 console.log(SoldItemslist);
                }).error(function (error) {
                alert(error);
            });
    });
    </script>
</html>
